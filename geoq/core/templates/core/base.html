<!DOCTYPE html>
{% load bootstrap_toolkit %}
{% load compress %}
{% load url from future %}
{% load menu %}

<html lang="en">
<head>
    <meta charset="utf-8">
    <title>{% block title %}GeoQ{% endblock %}</title>
    <style type="text/css">
        body {
            padding-top: 60px;
        }
        thisIsCore: { }
    </style>

    {% bootstrap_stylesheet_tag %}
    {% bootstrap_stylesheet_tag "responsive" %}

    {% compress css %}

        <link href="{{ STATIC_URL }}core/less/geoq.less" media="all" rel="stylesheet" type="text/less"/>
        <link rel="stylesheet" href="{{ STATIC_URL }}font-awesome-2/css/font-awesome.min.css">
    	<link href="{{ STATIC_URL }}core/js/fancytree/skin-win7/ui.fancytree.css" rel="stylesheet" type="text/css">

    {% endcompress %}

    <!--[if lt IE 9]>
    <script src="{{ STATIC_URL }}core/js/html5.js"></script>
    <![endif]-->
    {% compress js %}
        <script src="{{ STATIC_URL }}core/js/sjcl.js"></script>
        <script type="text/javascript">
            window.browserRandom = Math.random();
            var randomReplace = function() {
                // generate two cryptographically secure words (32 bits)
                // bitwise them together, scale them down to 0-1 inclusive
                // Can be used to monkey patch Math.random
                var rsrc = sjcl.random.randomWords(2);
                var high =rsrc[0];
                var low = rsrc[1];
                var hpl = ((high & 0x1fffff) * 0x100000000) + low;
                return hpl / 0x20000000000000;
            }
            Math.random = randomReplace;
        </script>
        <script src="{{ STATIC_URL }}core/js/jquery.min.js"></script>
        <script src="{{ STATIC_URL }}core/js/jquery-ui.custom.js"></script>
        <script src="{{ STATIC_URL }}core/js/underscore-min.js"></script>
        <script src="{{ STATIC_URL }}core/js/underscore.string.min.js" type="text/javascript"></script>
        <script src="{{ STATIC_URL }}core/js/log4javascript.js"></script>
        <script type="text/javascript">
            var log;
            if (document.location.hash && document.location.hash.indexOf("debug") > 0) {
                log = log4javascript.getDefaultLogger();
                var browserConsoleAppender = new log4javascript.BrowserConsoleAppender();
                log.addAppender(browserConsoleAppender);
            } else {
                var output = (typeof console!="undefined") ? function (x) {console.log(x)} : function(){};
                log = {warn:output,log:output,error:output,info:output,debug:output,trace:output};
            }
        </script>
        <script src="{{ STATIC_URL }}core/js/base.js"></script>

    {% endcompress %}

    {% block static_libraries %}
    {% endblock %}

    {% bootstrap_javascript_tag %}

</head>

<body>
{% block container %}
    <div class="container">

        {% block content %}Empty page{% endblock %}

        <!--<footer class="row">
        {% block footer %}
            <div class="span6">GeoQ</div>
        {% endblock %}
        </footer>-->

    </div> <!-- container -->
{% endblock %}

{% get_menu request %}
{% bootstrap_messages %}

</body>
</html>
