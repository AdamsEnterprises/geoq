(function(){var a={cache:{},init:function(g){var f=document.getElementById(g);var e;a.cache[g]=[];var b=a.cache[g];for(var d=0,c=f.options.length;d<c;d++){e=f.options[d];b.push({value:e.value,text:e.text,displayed:1})}},redisplay:function(h){var f=document.getElementById(h);var e;f.options.length=0;var b=a.cache[h];for(var d=0,c=b.length;d<c;d++){e=b[d];if(e.displayed){var g=new Option(e.text,e.value,false,false);g.setAttribute("title",e.text);f.options[f.options.length]=g}}},filter:function(c,n){var m=n.toLowerCase().split(/\s+/);var d,e;var b=a.cache[c];for(var h=0,g=b.length;h<g;h++){d=b[h];d.displayed=1;var l=m.length;for(var f=0;f<l;f++){e=m[f];if(d.text.toLowerCase().indexOf(e)===-1){d.displayed=0}}}a.redisplay(c)},delete_from_cache:function(l,h){var g,f=null;var c=a.cache[l];for(var e=0,d=c.length;e<d;e++){g=c[e];if(g.value===h){f=e;break}}var b=c.length-1;for(e=f;e<b;e++){c[e]=c[e+1]}c.length--},add_to_cache:function(c,b){a.cache[c].push({value:b.value,text:b.text,displayed:1})},cache_contains:function(g,f){var e;var b=a.cache[g];for(var d=0,c=b.length;d<c;d++){e=b[d];if(e.value===f){return true}}return false},move:function(h,g){var b=document.getElementById(h);var f;var e=b.options;for(var d=0,c=e.length;d<c;d++){f=e[d];if(f.selected&&a.cache_contains(h,f.value)){a.add_to_cache(g,{value:f.value,text:f.text,displayed:1});a.delete_from_cache(h,f.value)}}a.redisplay(h);a.redisplay(g)},move_all:function(h,g){var b=document.getElementById(h);var f;var e=b.options;for(var d=0,c=e.length;d<c;d++){f=e[d];if(a.cache_contains(h,f.value)){a.add_to_cache(g,{value:f.value,text:f.text,displayed:1});a.delete_from_cache(h,f.value)}}a.redisplay(h);a.redisplay(g)},sort:function(b){a.cache[b].sort(function(d,c){d=d.text.toLowerCase();c=c.text.toLowerCase();try{if(d>c){return 1}if(d<c){return -1}}catch(f){}return 0})},select_all:function(d){var c=document.getElementById(d);for(var b=0;b<c.options.length;b++){c.options[b].selected="selected"}}};window.SelectBox=a})();